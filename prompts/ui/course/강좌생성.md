# 강의 등록 2단계 페이지 설계안 (DRAFT)

메인 페이지 톤을 유지하면서 강의 등록을 2단계로 구성하고, 좌측 편집/우측 트리 프리뷰 구조를 적용한다.

## 확정 결정

- 경로: `/course/new`
- 업로드: Presigned URL 방식(Cloudflare R2 직접 업로드)
- `durationSeconds`: 동영상 메타데이터 자동 추출
- 제약: 클라이언트에서 엄격 강제 (`section >= 1`, `section별 lecture 1~5`)
- 이미지: 썸네일 선택 입력
- 섹션 메타: `section title`만 사용

## 구현 단계

1. Swagger `POST /courses` 계약 확정: 필수/선택 필드, section/lecture 구조, 난이도 enum, 태그 표현 방식(id/name), 썸네일/비디오 URL 필드명.
2. 페이지 라우트 추가: `src/app/(web)/course/new/page.tsx`.
3. 폼 상태 모델 설계: step 상태, course 기본 정보, sections/lectures, 접힘 상태.
4. STEP1 UI 구성: 제목/설명/난이도/태그/선택 썸네일.
5. STEP2 UI 구성: 좌측 lecture 편집(동영상 DnD + 제목), 우측 section-lecture 트리(접기/펼치기).
6. 제약 강제: section 최소 1개, section별 lecture 1~5개 작성 중 즉시 차단.
7. 업로드 API 추가: presigned URL 발급 라우트.
8. 생성 API 추가: BFF `POST /courses` 라우트.
9. 제출/완료 UX: 로딩/에러/성공 처리.

## 검증 항목

- STEP1 필수값 검증
- STEP2 개수 제약 검증
- duration 자동 추출 검증
- presigned URL 발급 → R2 업로드 → `POST /courses` 반영 확인
- 제출 실패 시 step 유지 및 에러 노출
